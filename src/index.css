@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@400;500;600;700&display=swap');

:root{
  --bg: #f8fafc;
  --bg-pattern: #ffffff;
  --panel: #ffffff;
  --panel-elevated: #fefefe;
  --muted: #64748b;
  --muted-dark: #475569;
  --text: #0f172a;
  --accent: #0ea5e9;
  --accent-hover: #0284c7;
  --accent-light: #e0f2fe;
  --me: #dbeafe;
  --me-border: #93c5fd;
  --other: #f1f5f9;
  --other-border: #cbd5e1;
  --success: #10b981;
  --warning: #f59e0b;
  --shadow: 0 1px 3px rgba(0,0,0,0.05), 0 10px 24px rgba(0,0,0,0.04);
  --shadow-lg: 0 4px 6px rgba(0,0,0,0.05), 0 20px 40px rgba(0,0,0,0.08);
  --radius: 16px;
  --radius-sm: 10px;
  --maxWidth: 1100px;
  --mono: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
  --sans: 'Inter', system-ui, -apple-system, sans-serif;
}

body.dark-mode {
  --bg: #0a0e1a;
  --bg-pattern: #0f1419;
  --panel: #151b28;
  --panel-elevated: #1a2132;
  --muted: #94a3b8;
  --muted-dark: #cbd5e1;
  --text: #f1f5f9;
  --accent: #38bdf8;
  --accent-hover: #7dd3fc;
  --accent-light: #082f49;
  --me: #0c4a6e;
  --me-border: #075985;
  --other: #1e293b;
  --other-border: #334155;
  --success: #34d399;
  --warning: #fbbf24;
  --shadow: 0 2px 8px rgba(0,0,0,0.4), 0 12px 32px rgba(0,0,0,0.5);
  --shadow-lg: 0 8px 16px rgba(0,0,0,0.6), 0 24px 56px rgba(0,0,0,0.7);
  color: var(--text);
}

html,body,#root{
  height:100%;
  margin:0;
  font-family:var(--sans);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

body{
  background:var(--bg);
  background-image:
    radial-gradient(circle at 25% 25%, rgba(14, 165, 233, 0.03) 0%, transparent 50%),
    radial-gradient(circle at 75% 75%, rgba(16, 185, 129, 0.03) 0%, transparent 50%);
  background-attachment:fixed;
  color:var(--text);
}

*{box-sizing:border-box}

.app-shell{
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

.site-nav{
  background:var(--panel);
  backdrop-filter:blur(12px);
  border-bottom:1px solid var(--other-border);
  box-shadow:var(--shadow);
  padding:14px 24px;
  position:sticky;
  top:0;
  z-index:100;
  transition:all 0.3s ease;
}

.nav-logo{
  width:44px;
  height:44px;
  border-radius:12px;
  background:linear-gradient(135deg, var(--accent) 0%, var(--accent-hover) 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:700;
  font-size:1rem;
  font-family:var(--mono);
  box-shadow:0 4px 12px rgba(14, 165, 233, 0.3);
  transition:transform 0.2s ease, box-shadow 0.2s ease;
}

.nav-logo:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 18px rgba(14, 165, 233, 0.4);
}

.nav-info{
  display:flex;
  flex-direction:column;
  gap:2px;
}

.nav-title{
  font-weight:700;
  font-size:1.05rem;
  color:var(--text);
  letter-spacing:-0.02em;
}

.nav-subtitle{
  font-size:0.75rem;
  color:var(--muted);
  font-family:var(--mono);
  display:flex;
  align-items:center;
  gap:6px;
}

.badge-count{
  background:var(--accent-light);
  color:var(--accent);
  padding:2px 8px;
  border-radius:6px;
  font-weight:600;
  font-family:var(--mono);
  font-size:0.7rem;
}

.nav-search{
  border:1px solid var(--other-border);
  border-radius:10px;
  padding:8px 14px;
  width:240px;
  transition:all 0.2s ease;
  background:var(--panel-elevated);
  color:var(--text);
  font-size:0.9rem;
}

.nav-search:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 3px var(--accent-light);
  width:280px;
}

.btn-icon{
  padding:8px 16px;
  border-radius:10px;
  border:1px solid var(--other-border);
  background:var(--panel-elevated);
  color:var(--text);
  font-weight:600;
  font-size:0.85rem;
  cursor:pointer;
  transition:all 0.2s ease;
  display:flex;
  align-items:center;
  gap:6px;
}

.btn-icon:hover{
  background:var(--accent);
  color:white;
  border-color:var(--accent);
  transform:translateY(-1px);
  box-shadow:0 4px 12px rgba(14, 165, 233, 0.25);
}

.btn-theme{
  padding:8px 12px;
  border-radius:10px;
  border:1px solid var(--other-border);
  background:var(--panel-elevated);
  color:var(--muted-dark);
  cursor:pointer;
  transition:all 0.2s ease;
  font-size:1.1rem;
}

.btn-theme:hover{
  background:var(--accent-light);
  border-color:var(--accent);
  transform:rotate(180deg) scale(1.1);
}

.container-main{
  display:flex;
  justify-content:center;
  padding:32px 24px;
  flex:1;
}

.chat-wrap{
  width:100%;
  max-width:var(--maxWidth);
  background:var(--panel);
  border-radius:var(--radius);
  border:1px solid var(--other-border);
  box-shadow:var(--shadow-lg);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  height:82vh;
  transition:box-shadow 0.3s ease;
}

.chat-wrap:hover{
  box-shadow:0 8px 16px rgba(0,0,0,0.06), 0 24px 48px rgba(0,0,0,0.09);
}

.chat-header{
  padding:18px 24px;
  display:flex;
  align-items:center;
  gap:14px;
  border-bottom:1px solid var(--other-border);
  background:var(--panel-elevated);
}

.chat-title{
  font-weight:700;
  font-size:1.1rem;
  color:var(--text);
  letter-spacing:-0.02em;
}

.chat-body{
  flex:1;
  overflow-y:auto;
  overflow-x:hidden;
  padding:28px 24px;
  background:var(--bg-pattern);
  display:flex;
  justify-content:center;
  position:relative;
}

.chat-body::-webkit-scrollbar{width:8px}
.chat-body::-webkit-scrollbar-track{background:transparent}
.chat-body::-webkit-scrollbar-thumb{background:var(--muted);border-radius:10px}
.chat-body::-webkit-scrollbar-thumb:hover{background:var(--muted-dark)}

.chat-column{
  width:100%;
  max-width:820px;
  display:flex;
  flex-direction:column;
  gap:16px;
}

.msg-row{
  display:flex;
  align-items:flex-end;
  gap:12px;
  animation:fadeInUp 0.3s ease;
}

@keyframes fadeInUp{
  from{
    opacity:0;
    transform:translateY(10px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}

.msg-row.other{justify-content:flex-start}
.msg-row.me{justify-content:flex-end}

.avatar{
  width:42px;
  height:42px;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:white;
  background:linear-gradient(135deg, var(--accent) 0%, var(--success) 100%);
  flex:0 0 42px;
  font-size:0.85rem;
  font-family:var(--mono);
  box-shadow:0 3px 10px rgba(14, 165, 233, 0.3);
  transition:transform 0.2s ease;
}

.avatar:hover{
  transform:scale(1.1) rotate(-5deg);
}

.bubble{
  padding:12px 16px;
  border-radius:var(--radius-sm);
  max-width:68%;
  box-shadow:0 2px 8px rgba(0,0,0,0.04);
  word-break:break-word;
  white-space:pre-wrap;
  position:relative;
  transition:all 0.2s ease;
  line-height:1.5;
  font-size:0.95rem;
}

.bubble:hover{
  transform:translateY(-1px);
  box-shadow:0 4px 14px rgba(0,0,0,0.08);
}

.msg-row.other .bubble{
  background:var(--other);
  border:1px solid var(--other-border);
  border-bottom-left-radius:4px;
}

.msg-row.me .bubble{
  background:var(--me);
  border:1px solid var(--me-border);
  border-bottom-right-radius:4px;
}

.sender{
  font-size:0.8rem;
  color:var(--accent);
  margin-bottom:6px;
  font-weight:600;
  font-family:var(--mono);
}

.time{
  font-size:0.7rem;
  color:var(--muted);
  margin-top:8px;
  text-align:right;
  font-family:var(--mono);
  opacity:0.7;
}

.controls-bar{
  padding:16px 24px;
  border-top:1px solid var(--other-border);
  display:flex;
  gap:12px;
  align-items:center;
  background:var(--panel-elevated);
}

.controls-info{
  color:var(--muted);
  font-size:0.8rem;
  font-family:var(--mono);
  display:flex;
  align-items:center;
  gap:8px;
}

.controls-info::before{
  content:'ðŸ”’';
  font-size:1rem;
}

.file-btn{
  border-radius:10px;
  padding:10px 20px;
  font-weight:600;
  font-size:0.9rem;
  border:none;
  background:linear-gradient(135deg, var(--accent) 0%, var(--accent-hover) 100%);
  color:white;
  box-shadow:0 4px 12px rgba(14, 165, 233, 0.3);
  transition:all 0.2s ease;
  cursor:pointer;
}

.file-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 18px rgba(14, 165, 233, 0.4);
}

@media (max-width:900px){
  .chat-wrap{width:96vw;height:84vh}
  :root{--maxWidth:96vw}
  .nav-search{width:160px}
  .nav-search:focus{width:200px}
  .bubble{max-width:75%}
  .site-nav{padding:12px 16px}
  .container-main{padding:20px 12px}
}
